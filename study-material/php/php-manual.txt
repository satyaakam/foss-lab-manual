= PHP (PHP: Hypertext Preprocessor) =

author viky.nandha@gmail.com

== Prerequisites ==
. Apache server
. PHP engine

== Assumptions ==
. It is assumed that above prerequisites are already installed in your system
. It is assumed that you are running Linux
. PHP is explained here as a web programming language alone (though it can be used at command line)
. It is assumed that basic HTML markup is known.
. It is assumed that C is already known.

=== How to start the Apache server? ===
In Debian based systems (Debian, Ubuntu, etc)
-------------
# /etc/init.d/apache2 start
-------------
In RedHat based systems (RedHat, CentOS Fedora, etc)
------------
# /etc/init.d/httpd start
------------
To ensure that the server is running fine,

* Open a web browser of your choice
* Enter the URL +*http://localhost/*+

You will get a page that says *It works* prominently, followed by some text.

=== Structure of a PHP program ===
* Every php program should be enclosed between +<?php+ and +?>+
* More often +<?+ is used as a shorthand of the starting delimitter +<?php+.
* HTML code can be written interleaved within PHP code.

== Conventional 'Hello world!' program ==
---------------
<?php
	echo "Hello world!";
?>
---------------

=== A closer look ===
* echo is a 'language construct' (note that it is not a function, unlike +printf+ in C)
* 'Strings' can be enclosed within 'single' or _double quotes_
* Each statement should end with a semicolon (+;+).

=== Where to save the file? ===
* All the files should be stored inside */var/www*. (It is the root directory for the Apache server).
* You can also store the files in subfolders inside it.
* The filename should have the extension +.php+
Let us store the above program as 'hello.php' in a folder named 'sandbox' inside '/var/www/'. i.e, the file is at '/var/www/sandbox/hello.php'.

=== How to run the program? ===
* Open a web browser of your choice
* Enter the URL +http://localhost/sandbox/hello.php+
* Now you should get 'Hello world!' in your browser.

== Comments ==
PHP supports 'C', 'C++' and Unix shell-style (Perl style) comments.

* Single line comments start with +//+ or +#+. i.e, All text from +//+ till end of line is treated as comment.
* Multiline comments are enclosed betweem /* and */.

Example:
-------------
//This is a single line comment.
echo "Hello!";//This is also a single line comment.
#Another Single line comment
echo "Hello!";#Yet another single line comment.
/* This
is a
multiline
comment. */
-----------

==========
WARNING: Nesting comments may cause problems.
===========


== Interleaved HTML ==
A single PHP file can contain multiple blocks of PHP code, with HTML interleaved among them (optional). Each block should be enclosed within the delimitting characters (+<?+ and +?>+)
Example:
------------
<?
	echo "First PHP segment";
?>
<br>First HTML segment.<br>
<?
	echo "Second PHP segment";
?>
<br>Second HTML segment.<br>
------------

== Variables ==
* Variables in PHP are represented by a dollar sign (+$+) followed by the name of the variable.
* Variable names are case-sensitive.
* Variables are typeless in PHP. i.e, there is no need to specify datatype explicitly.

== Conditional statements ==
In PHP we have the following conditional statements:

* if statement - use this statement to execute some code only if a specified condition is true
* if...else statement - use this statement to execute some code if a condition is true and another code if the condition is false
* if...elseif....else statement - use this statement to select one of several blocks of code to be executed
* switch statement - use this statement to select one of many blocks of code to be executed

===========
NOTE: All the above statements have the same syntax as in 'C/C++'.
===========

=== The +if+ statement ===
==== Example: ====
----------
<?php
  $d=date("D");
  if ($d=="Fri")
    echo "Have a nice weekend!";
?>
----------

=== The +if..else+ statement ===
==== Example: ====
----------
<?php
$d=date("D");
if ($d=="Fri")
  echo "Have a nice weekend!";
else
  echo "Have a nice day!";
?>
----------

=== The +if..elseif..else+ statement ===
==== Example: ====
----------
<?php
$d=date("D");
if ($d=="Fri")
  echo "Have a nice weekend!";
elseif ($d=="Sun")
  echo "Have a nice Sunday!";
else
  echo "Have a nice day!";
?>
----------

=== The  +switch+ statement ===
The difference from the +switch+ in 'C' is that the values given at +case+ are not restricted to +int+ and +char+; it can also be string.

==== Example: ====
--------------
<?php
switch ($i) {
  case "apple":
    echo "i is apple";
    break;
  case "bar":
    echo "i is bar";
    break;
  case "cake":
    echo "i is cake";
    break;
}
?>
-------------

== Loops ==
In PHP we have the following conditional statements:

* +for+ loop
* +foreach+ loop
* +while+ loop
* +do..while+ loop

===========
NOTE: All the above statements, except the +foreach+ loop have the same syntax as in 'C/C++'.
===========

=== The +for+ loop ===
==== Example: ====
-----------
<?
for ($i=1; $i<=5; $i++)
  {
    echo "The number is " . $i . "<br />";
  }
?>
-----------

=== The +foreach+ loop ===
The foreach loop is used to loop through arrays.
Syntax:
------------
foreach ($array as $value)
  {
  code to be executed;
  }
------------
For every loop iteration, the value of the current array element is assigned to $value (and the array pointer is moved by one) - so on the next loop iteration, you'll be looking at the next array value.

==== Example: ====

----------
<?php
$x=array("one","two","three");
foreach ($x as $value)
  {
  echo $value . "<br />";
  }
?>
----------

==== Output: ====
----------
one
two
three
----------

=== The +while+ loop ===
==== Example: ====
-----------
<?php
$i=1;
while($i<=5)
  {
  echo "The number is " . $i . "<br />";
  $i++;
  }
?>
-----------

=== The +do..while+ loop ===
==== Example: ====
-----------
<?php
$i=1;
do
  {
  $i++;
  echo "The number is " . $i . "<br />";
  }
while ($i<=5);
?>
-----------

== Form processing ==
Let us first look at a sample form. For the sake of simplicitym, only the form is given here rather than the entire HTML document.
--------------
<form action="reg_db.php" method="POST">
	<label>First name:<input type="text" name="firstname"></label>
	<label>Second name:<input type="text" name="secondname"></label>
	<input type="submit" value="Submit">
</form>
--------------
When the form is submitted, the file +reg_db.php+ is supposed to handle the form input (more likely to validate and insert them into database). For the sake of sake of explnation, let us leave the validation part as of now.

=== Getting the form data ===
The form input can be retrieved as follows:
-------------
<?
	$fname = $_POST['firstname'];
	$lname = $_POST['lastnamme'];
?>
-------------

